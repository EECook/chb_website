/* design tokens */

:root {
    --sky-1: #030014;
    --sky-2: #0a0520;
    --sky-3: #0f0a30;
    --sky-4: #12122a;
    --sky-surface: rgba(10, 10, 26, 0.95);

    --gold: #D4AF37;
    --gold-light: #F4E4A1;
    --gold-dark: #8B7355;
    --gold-dim: rgba(212, 175, 55, 0.15);
    --gold-glow: rgba(212, 175, 55, 0.6);
    --bronze: #CD7F32;

    --lightning: #4fc3f7;
    --lightning-dim: rgba(79, 195, 247, 0.15);
    --purple: #8B5CF6;
    --purple-glow: rgba(139, 92, 246, 0.4);

    --marble: #f5f5f0;
    --marble-dim: #c8c8c0;
    --marble-muted: #8a8a80;

    --success: #4ade80;
    --warning: #fbbf24;
    --error: #f87171;

    --border-subtle: rgba(212, 175, 55, 0.12);
    --border-gold: rgba(212, 175, 55, 0.3);
    --border-light: rgba(255, 255, 255, 0.08);

    --max-width: 1200px;
    --nav-height: 64px;

    --ease-out: cubic-bezier(0.4, 0, 0.2, 1);
    --ease-spring: cubic-bezier(0.175, 0.885, 0.32, 1.275);

    /* time of day -- overridden by js */
    --tod-sky-top: #030014;
    --tod-sky-mid: #0a0520;
    --tod-sky-bottom: #0f0a30;
    --tod-star-opacity: 1;
    --tod-horizon-color: transparent;
    --tod-horizon-opacity: 0;
}


/* reset */

*, *::before, *::after {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html { scroll-behavior: smooth; }

body {
    font-family: 'Crimson Text', Georgia, serif;
    background: var(--sky-1);
    color: var(--marble);
    min-height: 100vh;
    line-height: 1.7;
    font-size: 18px;
    overflow-x: hidden;
    -webkit-font-smoothing: antialiased;
}

img, video, canvas, svg {
    display: block;
    max-width: 100%;
}

a { color: inherit; text-decoration: none; }
button { font: inherit; cursor: pointer; background: none; border: none; color: inherit; }
ul, ol { list-style: none; }

h1, h2, h3, h4, h5 {
    font-family: 'Cinzel', serif;
    line-height: 1.3;
    color: var(--gold);
}


/* layout canvases */

#star-canvas {
    position: fixed;
    inset: 0;
    width: 100%; height: 100%;
    z-index: 0;
    pointer-events: none;
}

#ember-canvas {
    position: fixed;
    inset: 0;
    width: 100%; height: 100%;
    z-index: 5;
    pointer-events: none;
}

#app {
    position: relative;
    z-index: 1;
    min-height: 100vh;
}


/* scrollbar */

::-webkit-scrollbar { width: 8px; }
::-webkit-scrollbar-track { background: var(--sky-1); }
::-webkit-scrollbar-thumb { background: var(--gold-dark); border-radius: 4px; }
::selection { background: rgba(212, 175, 55, 0.3); color: var(--marble); }


/* page transitions for router */

.page-enter {
    opacity: 0;
    transform: translateY(20px);
}

.page-active {
    opacity: 1;
    transform: translateY(0);
    transition: opacity 0.8s var(--ease-out), transform 0.8s var(--ease-out);
}

.transition-overlay {
    position: fixed;
    inset: 0;
    z-index: 9998;
    pointer-events: none;
    opacity: 0;
    background: radial-gradient(ellipse at 50% 50%, rgba(139, 92, 246, 0.3) 0%, var(--sky-1) 70%);
    transition: opacity 600ms var(--ease-out);
}
.transition-overlay.active {
    opacity: 1;
    pointer-events: all;
}


/* scroll reveal utility */

.reveal {
    opacity: 0;
    transform: translateY(40px);
    transition: opacity 0.8s var(--ease-out), transform 0.8s var(--ease-out);
}
.reveal.visible {
    opacity: 1;
    transform: translateY(0);
}
.reveal-d1 { transition-delay: 100ms; }
.reveal-d2 { transition-delay: 200ms; }
.reveal-d3 { transition-delay: 300ms; }
.reveal-d4 { transition-delay: 400ms; }


/* shared keyframes */

@keyframes shimmer {
    0%, 100% { opacity: 0.6; }
    50% { opacity: 1; }
}

@keyframes glow-pulse {
    0%, 100% { filter: drop-shadow(0 0 20px var(--gold-glow)); }
    50% { filter: drop-shadow(0 0 40px var(--gold)); }
}

@keyframes float-y {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-8px); }
}

@keyframes lightning-flash {
    0% { opacity: 0; }
    5% { opacity: 0.8; }
    10% { opacity: 0.2; }
    15% { opacity: 0.9; }
    20% { opacity: 0; }
    100% { opacity: 0; }
}

@keyframes shoot {
    0% { transform: translateX(0) translateY(0) rotate(-35deg); opacity: 0; }
    5% { opacity: 1; }
    70% { opacity: 1; }
    100% { transform: translateX(400px) translateY(200px) rotate(-35deg); opacity: 0; }
}

@keyframes mist-drift {
    0% { transform: translateX(-10%) translateY(0); }
    50% { transform: translateX(10%) translateY(-2%); }
    100% { transform: translateX(-10%) translateY(0); }
}

@keyframes mist-drift-rev {
    0% { transform: translateX(10%) translateY(0); }
    50% { transform: translateX(-10%) translateY(2%); }
    100% { transform: translateX(10%) translateY(0); }
}

@keyframes particle-up {
    0% { transform: translateY(0) translateX(0) scale(1); opacity: 0; }
    10% { opacity: 0.7; }
    90% { opacity: 0.5; }
    100% { transform: translateY(-100vh) translateX(50px) scale(0.3); opacity: 0; }
}

@keyframes word-in {
    from { opacity: 0; transform: translateY(20px) rotateX(-40deg); }
    to { opacity: 1; transform: translateY(0) rotateX(0); }
}

@keyframes fade-up {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}
